{"version":3,"file":"address.js","sources":["pages/user/address.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9hZGRyZXNzLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 地址列表 -->\r\n\t\t<view class=\"address-list\">\r\n\t\t\t<view class=\"address-item\" v-for=\"(item, index) in addressList\" :key=\"index\">\r\n\t\t\t\t<view class=\"address-info\">\r\n\t\t\t\t\t<view class=\"user-info\">\r\n\t\t\t\t\t\t<text class=\"name\">{{item.name}}</text>\r\n\t\t\t\t\t\t<text class=\"phone\">{{item.phone}}</text>\r\n\t\t\t\t\t\t<text class=\"default-tag\" v-if=\"item.isDefault\">默认</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"address-detail\">\r\n\t\t\t\t\t\t<text>{{item.province}}{{item.city}}{{item.district}}{{item.detail}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"address-actions\">\r\n\t\t\t\t\t<view class=\"action-item\" @tap=\"setDefault(index)\">\r\n\t\t\t\t\t\t<image :src=\"item.isDefault ? 'https://img.picui.cn/free/2025/05/09/681e034c3cc49.jpg' : '/static/images/unchecked.png'\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<text>设为默认</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"action-item\" @tap=\"editAddress(index)\">\r\n\t\t\t\t\t\t<image src=\"https://img.picui.cn/free/2025/05/09/681e034c3cc49.jpg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<text>编辑</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"action-item\" @tap=\"deleteAddress(index)\">\r\n\t\t\t\t\t\t<image src=\"https://img.picui.cn/free/2025/05/09/681e034c3cc49.jpg\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<text>删除</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 添加地址按钮 -->\r\n\t\t<view class=\"add-btn\" @tap=\"addAddress\">\r\n\t\t\t<text>+ 添加新地址</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 地址编辑弹窗 -->\r\n\t\t<uni-popup ref=\"addressPopup\" type=\"bottom\">\r\n\t\t\t<view class=\"address-form\">\r\n\t\t\t\t<view class=\"form-title\">{{isEdit ? '编辑地址' : '添加地址'}}</view>\r\n\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t<text class=\"label\">收货人</text>\r\n\t\t\t\t\t<input type=\"text\" v-model=\"formData.name\" placeholder=\"请输入收货人姓名\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t<text class=\"label\">手机号码</text>\r\n\t\t\t\t\t<input type=\"number\" v-model=\"formData.phone\" placeholder=\"请输入手机号码\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t<text class=\"label\">所在地区</text>\r\n\t\t\t\t\t<picker mode=\"region\" :value=\"region\" @change=\"handleRegionChange\">\r\n\t\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t\t<text>{{region[0] || '请选择'}} {{region[1] || ''}} {{region[2] || ''}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</picker>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t<text class=\"label\">详细地址</text>\r\n\t\t\t\t\t<textarea v-model=\"formData.detail\" placeholder=\"请输入详细地址\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t<view class=\"default-switch\">\r\n\t\t\t\t\t\t<text>设为默认地址</text>\r\n\t\t\t\t\t\t<switch :checked=\"formData.isDefault\" @change=\"handleDefaultChange\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-buttons\">\r\n\t\t\t\t\t<button class=\"cancel-btn\" @tap=\"closePopup\">取消</button>\r\n\t\t\t\t\t<button class=\"confirm-btn\" @tap=\"saveAddress\">保存</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport userData from '@/utils/user.js'\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\taddressList: [],\r\n\t\t\t\tisEdit: false,\r\n\t\t\t\teditIndex: -1,\r\n\t\t\t\tformData: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tprovince: '',\r\n\t\t\t\t\tcity: '',\r\n\t\t\t\t\tdistrict: '',\r\n\t\t\t\t\tdetail: '',\r\n\t\t\t\t\tisDefault: false\r\n\t\t\t\t},\r\n\t\t\t\tregion: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.loadAddressList()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tloadAddressList() {\r\n\t\t\t\tthis.addressList = userData.getAddressList()\r\n\t\t\t},\r\n\t\t\taddAddress() {\r\n\t\t\t\tthis.isEdit = false\r\n\t\t\t\tthis.editIndex = -1\r\n\t\t\t\tthis.formData = {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tprovince: '',\r\n\t\t\t\t\tcity: '',\r\n\t\t\t\t\tdistrict: '',\r\n\t\t\t\t\tdetail: '',\r\n\t\t\t\t\tisDefault: false\r\n\t\t\t\t}\r\n\t\t\t\tthis.region = []\r\n\t\t\t\tthis.$refs.addressPopup.open()\r\n\t\t\t},\r\n\t\t\teditAddress(index) {\r\n\t\t\t\tthis.isEdit = true\r\n\t\t\t\tthis.editIndex = index\r\n\t\t\t\tconst address = this.addressList[index]\r\n\t\t\t\tthis.formData = { ...address }\r\n\t\t\t\tthis.region = [address.province, address.city, address.district]\r\n\t\t\t\tthis.$refs.addressPopup.open()\r\n\t\t\t},\r\n\t\t\tdeleteAddress(index) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定要删除这个地址吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuserData.deleteAddress(index)\r\n\t\t\t\t\t\t\tthis.loadAddressList()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsetDefault(index) {\r\n\t\t\t\tuserData.setDefaultAddress(index)\r\n\t\t\t\tthis.loadAddressList()\r\n\t\t\t},\r\n\t\t\thandleRegionChange(e) {\r\n\t\t\t\tthis.region = e.detail.value\r\n\t\t\t\tthis.formData.province = e.detail.value[0]\r\n\t\t\t\tthis.formData.city = e.detail.value[1]\r\n\t\t\t\tthis.formData.district = e.detail.value[2]\r\n\t\t\t},\r\n\t\t\thandleDefaultChange(e) {\r\n\t\t\t\tthis.formData.isDefault = e.detail.value\r\n\t\t\t},\r\n\t\t\tclosePopup() {\r\n\t\t\t\tthis.$refs.addressPopup.close()\r\n\t\t\t},\r\n\t\t\tsaveAddress() {\r\n\t\t\t\tif (!this.formData.name) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入收货人姓名',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.formData.phone) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入手机号码',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.formData.detail) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入详细地址',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this.isEdit) {\r\n\t\t\t\t\tuserData.updateAddress(this.editIndex, this.formData)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuserData.addAddress(this.formData)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.loadAddressList()\r\n\t\t\t\tthis.closePopup()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.container {\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\t\r\n\t.address-list {\r\n\t\tmargin-bottom: 120rpx;\r\n\t}\r\n\t\r\n\t.address-item {\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.user-info {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.name {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t\r\n\t.phone {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.default-tag {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #FF4D4F;\r\n\t\tbackground-color: rgba(255, 77, 79, 0.1);\r\n\t\tpadding: 4rpx 12rpx;\r\n\t\tborder-radius: 4rpx;\r\n\t\tmargin-left: 20rpx;\r\n\t}\r\n\t\r\n\t.address-detail {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tline-height: 1.5;\r\n\t}\r\n\t\r\n\t.address-actions {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\tmargin-top: 20rpx;\r\n\t\tpadding-top: 20rpx;\r\n\t\tborder-top: 1rpx solid #f5f5f5;\r\n\t}\r\n\t\r\n\t.action-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-left: 40rpx;\r\n\t}\r\n\t\r\n\t.action-item image {\r\n\t\twidth: 32rpx;\r\n\t\theight: 32rpx;\r\n\t\tmargin-right: 8rpx;\r\n\t}\r\n\t\r\n\t.action-item text {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.add-btn {\r\n\t\tposition: fixed;\r\n\t\tbottom: 40rpx;\r\n\t\tleft: 40rpx;\r\n\t\tright: 40rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\tbackground-color: #FF4D4F;\r\n\t\tcolor: #fff;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 40rpx;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\t\r\n\t.address-form {\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 30rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t}\r\n\t\r\n\t.form-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t.form-item {\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\t\r\n\t.label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\tinput, textarea, .picker {\r\n\t\twidth: 100%;\r\n\t\theight: 80rpx;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tborder-radius: 8rpx;\r\n\t\tpadding: 0 20rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\t\r\n\ttextarea {\r\n\t\theight: 160rpx;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\t\r\n\t.default-switch {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.form-buttons {\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 40rpx;\r\n\t}\r\n\t\r\n\t.cancel-btn, .confirm-btn {\r\n\t\tflex: 1;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\tborder-radius: 40rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tmargin: 0 10rpx;\r\n\t}\r\n\t\r\n\t.cancel-btn {\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.confirm-btn {\r\n\t\tbackground-color: #FF4D4F;\r\n\t\tcolor: #fff;\r\n\t}\r\n</style> ","import MiniProgramPage from 'D:/learnRoute/fullStack/Shop-Of-Cars-Houses/frontend/pages/user/address.vue'\nwx.createPage(MiniProgramPage)"],"names":["userData","uni"],"mappings":";;;AA+EC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,aAAa,CAAE;AAAA,MACf,QAAQ;AAAA,MACR,WAAW;AAAA,MACX,UAAU;AAAA,QACT,MAAM;AAAA,QACN,OAAO;AAAA,QACP,UAAU;AAAA,QACV,MAAM;AAAA,QACN,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,WAAW;AAAA,MACX;AAAA,MACD,QAAQ,CAAC;AAAA,IACV;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,gBAAgB;AAAA,EACrB;AAAA,EACD,SAAS;AAAA,IACR,kBAAkB;AACjB,WAAK,cAAcA,WAAQ,SAAC,eAAe;AAAA,IAC3C;AAAA,IACD,aAAa;AACZ,WAAK,SAAS;AACd,WAAK,YAAY;AACjB,WAAK,WAAW;AAAA,QACf,MAAM;AAAA,QACN,OAAO;AAAA,QACP,UAAU;AAAA,QACV,MAAM;AAAA,QACN,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,WAAW;AAAA,MACZ;AACA,WAAK,SAAS,CAAC;AACf,WAAK,MAAM,aAAa,KAAK;AAAA,IAC7B;AAAA,IACD,YAAY,OAAO;AAClB,WAAK,SAAS;AACd,WAAK,YAAY;AACjB,YAAM,UAAU,KAAK,YAAY,KAAK;AACtC,WAAK,WAAW,EAAE,GAAG,QAAQ;AAC7B,WAAK,SAAS,CAAC,QAAQ,UAAU,QAAQ,MAAM,QAAQ,QAAQ;AAC/D,WAAK,MAAM,aAAa,KAAK;AAAA,IAC7B;AAAA,IACD,cAAc,OAAO;AACpBC,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,SAAS;AAChBD,uBAAQ,SAAC,cAAc,KAAK;AAC5B,iBAAK,gBAAgB;AAAA,UACtB;AAAA,QACD;AAAA,OACA;AAAA,IACD;AAAA,IACD,WAAW,OAAO;AACjBA,iBAAQ,SAAC,kBAAkB,KAAK;AAChC,WAAK,gBAAgB;AAAA,IACrB;AAAA,IACD,mBAAmB,GAAG;AACrB,WAAK,SAAS,EAAE,OAAO;AACvB,WAAK,SAAS,WAAW,EAAE,OAAO,MAAM,CAAC;AACzC,WAAK,SAAS,OAAO,EAAE,OAAO,MAAM,CAAC;AACrC,WAAK,SAAS,WAAW,EAAE,OAAO,MAAM,CAAC;AAAA,IACzC;AAAA,IACD,oBAAoB,GAAG;AACtB,WAAK,SAAS,YAAY,EAAE,OAAO;AAAA,IACnC;AAAA,IACD,aAAa;AACZ,WAAK,MAAM,aAAa,MAAM;AAAA,IAC9B;AAAA,IACD,cAAc;AACb,UAAI,CAAC,KAAK,SAAS,MAAM;AACxBC,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AACD;AAAA,MACD;AACA,UAAI,CAAC,KAAK,SAAS,OAAO;AACzBA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AACD;AAAA,MACD;AACA,UAAI,CAAC,KAAK,SAAS,QAAQ;AAC1BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AACD;AAAA,MACD;AAEA,UAAI,KAAK,QAAQ;AAChBD,mBAAAA,SAAS,cAAc,KAAK,WAAW,KAAK,QAAQ;AAAA,aAC9C;AACNA,4BAAS,WAAW,KAAK,QAAQ;AAAA,MAClC;AAEA,WAAK,gBAAgB;AACrB,WAAK,WAAW;AAAA,IACjB;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3LD,GAAG,WAAW,eAAe;"}