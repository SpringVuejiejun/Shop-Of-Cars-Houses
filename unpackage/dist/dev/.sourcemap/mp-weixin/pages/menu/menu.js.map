{"version":3,"file":"menu.js","sources":["pages/menu/menu.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWVudS9tZW51LnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 搜索栏 -->\r\n\t\t<Search\r\n\t\t\t:suggestions=\"suggestions\"\r\n\t\t\t@input=\"onInput\"\r\n\t\t\t@search=\"handleSearch\"\r\n\t\t/>\r\n\t\t\r\n\t\t<!-- 分类标签 -->\r\n\t\t<view class=\"category-tabs\">\r\n\t\t\t<view class=\"tab-item\" v-for=\"(item, index) in categories\" :key=\"index\" :class=\"{ active: currentCategory === item.id}\" @tap=\"switchCategory(item.id)\">\r\n\t\t\t\t<text>{{item.name}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 商品列表 -->\r\n\t\t<view class=\"product-list\">\r\n\t\t\t<view class=\"product-item\" v-for=\"(item, index) in products\" :key=\"index\">\r\n\t\t\t\t<image :src=\"item.images[0]\" mode=\"aspectFill\" class=\"product-image\" @tap=\"goToDetail(item.id)\"></image>\r\n\t\t\t\t<view class=\"product-info\">\r\n\t\t\t\t\t<text class=\"product-name\" @tap=\"goToDetail(item.id)\">{{item.name}}</text>\r\n\t\t\t\t\t<text class=\"product-price\">¥{{item.skus[0].price}}万</text>\r\n\t\t\t\t\t<text class=\"product-desc\">{{item.description}}</text>\r\n\t\t\t\t\t<view class=\"product-tags\">\r\n\t\t\t\t\t\t<text class=\"tag\" v-if=\"item.canBargain\">可砍价</text>\r\n\t\t\t\t\t\t<text class=\"tag\" v-for=\"(feature, fIndex) in item.skus[0].features.slice(0, 2)\" :key=\"fIndex\">{{feature}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Search from '@/components/Search.vue'\r\n\timport products from '@/utils/products.js'\r\n\timport userData from '@/utils/user.js'\r\n\t\r\n\texport default {\r\n\t\tcomponents: { Search },\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcategories: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 'luxury',\r\n\t\t\t\t\t\tname: '全部'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 'car',\r\n\t\t\t\t\t\tname: '豪车'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 'house',\r\n\t\t\t\t\t\tname: '豪宅'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tcurrentCategory: 'luxury',\r\n\t\t\t\tproducts: [],\r\n\t\t\t\tuserBalance: 0,\r\n\t\t\t\tsuggestions: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tif (options.category) {\r\n\t\t\t\tthis.currentCategory = options.category\r\n\t\t\t}\r\n\t\t\tthis.loadProducts()\r\n\t\t\tthis.userBalance = userData.getUserInfo().balance/10000\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tconst category = uni.getStorageSync('menuCategory')\r\n\t\t\tif (category) {\r\n\t\t\t\tthis.currentCategory = category\r\n\t\t\t\tthis.loadProducts()\r\n\t\t\t\tuni.removeStorageSync('menuCategory')\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tswitchCategory(category) {\r\n\t\t\t\tthis.currentCategory = category\r\n\t\t\t\tthis.loadProducts()\r\n\t\t\t},\r\n\t\t\tloadProducts() {\r\n\t\t\t\tthis.products = products.getProductsByCategory(this.currentCategory)\r\n\t\t\t},\r\n\t\t\tgoToDetail(productId) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/son_pages/detail?id=' + productId\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 搜索組件相關\r\n\t\t\tonInput(val) {\r\n\t\t\t\tthis.suggestions = products.getSuggestions ? products.getSuggestions(val) : []\r\n\t\t\t},\r\n\t\t\thandleSearch(keyword) {\r\n\t\t\t\t// 這裡可根據 keyword 做跳轉或其他操作\r\n\t\t\t\t// 目前僅彈窗展示由 Search 組件控制\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.container {\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\t\r\n\t.search-box {\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.search-input {\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t}\r\n\t\r\n\t.category-tabs {\r\n\t\tdisplay: flex;\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 20rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.tab-item {\r\n\t\tflex: 1;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tpadding: 10rpx 0;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.tab-item.active {\r\n\t\tcolor: #1a1a1a;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\r\n\t.tab-item.active::after {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\twidth: 40rpx;\r\n\t\theight: 4rpx;\r\n\t\tbackground-color: #1a1a1a;\r\n\t\tborder-radius: 2rpx;\r\n\t}\r\n\t\r\n\t.product-list {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.product-item {\r\n\t\tdisplay: flex;\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 20rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.product-image {\r\n\t\twidth: 200rpx;\r\n\t\theight: 200rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t\r\n\t.product-info {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.product-name {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\t\r\n\t.product-price {\r\n\t\tfont-size: 36rpx;\r\n\t\tcolor: #FF4D4F;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\t\r\n\t.product-desc {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #666;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\t-webkit-line-clamp: 2;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.product-tags {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\t\r\n\t.tag {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #666;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tpadding: 4rpx 12rpx;\r\n\t\tborder-radius: 4rpx;\r\n\t\tmargin-right: 10rpx;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n</style> ","import MiniProgramPage from 'D:/learnRoute/fullStack/Shop-Of-Cars-Houses/frontend/pages/menu/menu.vue'\nwx.createPage(MiniProgramPage)"],"names":["userData","uni","products"],"mappings":";;;;AAmCC,MAAK,SAAU,MAAW;AAI1B,MAAK,YAAU;AAAA,EACd,YAAY,EAAE,OAAQ;AAAA,EACtB,OAAO;AACN,WAAO;AAAA,MACN,YAAY;AAAA,QACX;AAAA,UACC,IAAI;AAAA,UACJ,MAAM;AAAA,QACN;AAAA,QACD;AAAA,UACC,IAAI;AAAA,UACJ,MAAM;AAAA,QACN;AAAA,QACD;AAAA,UACC,IAAI;AAAA,UACJ,MAAM;AAAA,QACP;AAAA,MACA;AAAA,MACD,iBAAiB;AAAA,MACjB,UAAU,CAAE;AAAA,MACZ,aAAa;AAAA,MACb,aAAa,CAAC;AAAA,IACf;AAAA,EACA;AAAA,EACD,OAAO,SAAS;AACf,QAAI,QAAQ,UAAU;AACrB,WAAK,kBAAkB,QAAQ;AAAA,IAChC;AACA,SAAK,aAAa;AAClB,SAAK,cAAcA,WAAAA,SAAS,YAAa,EAAC,UAAQ;AAAA,EAClD;AAAA,EACD,SAAS;AACR,UAAM,WAAWC,cAAAA,MAAI,eAAe,cAAc;AAClD,QAAI,UAAU;AACb,WAAK,kBAAkB;AACvB,WAAK,aAAa;AAClBA,oBAAG,MAAC,kBAAkB,cAAc;AAAA,IACrC;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,eAAe,UAAU;AACxB,WAAK,kBAAkB;AACvB,WAAK,aAAa;AAAA,IAClB;AAAA,IACD,eAAe;AACd,WAAK,WAAWC,eAAAA,SAAS,sBAAsB,KAAK,eAAe;AAAA,IACnE;AAAA,IACD,WAAW,WAAW;AACrBD,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,gCAAgC;AAAA,OACrC;AAAA,IACD;AAAA;AAAA,IAED,QAAQ,KAAK;AACZ,WAAK,cAAcC,wBAAS,iBAAiBA,eAAAA,SAAS,eAAe,GAAG,IAAI,CAAC;AAAA,IAC7E;AAAA,IACD,aAAa,SAAS;AAAA,IAGtB;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnGD,GAAG,WAAW,eAAe;"}