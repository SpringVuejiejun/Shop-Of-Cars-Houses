{"version":3,"file":"Search.js","sources":["components/Search.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovbGVhcm5Sb3V0ZS9wcm9jZWR1cmUvd2VjaGF0LVByby1kZW1vLTEvY29tcG9uZW50cy9TZWFyY2gudnVl"],"sourcesContent":["<template>\n    <view class=\"search-box\">\n      <text class=\"iconfont search-icon\" @tab=\"onSearch\">&#xe6b0;</text>\n      <input\n        class=\"search-input\"\n        type=\"text\"\n        v-model=\"inputValue\"\n        :placeholder=\"placeholder\"\n        @input=\"onInput\"\n        @confirm=\"onSearch\"\n        @focus=\"onFocus\"\n        @blur=\"onBlur\"\n      />\n      <button class=\"search-btn\" @tap=\"onSearch\">搜索</button>\n      <view v-if=\"showSuggestions && suggestions.length\" class=\"suggestion-list\">\n        <view\n          class=\"suggestion-item\"\n          v-for=\"item in suggestions\"\n          :key=\"item.id || item.name\"\n          @tap=\"selectSuggestion(item)\"\n        >\n          {{ item.name }}\n        </view>\n      </view>\n      <uni-popup ref=\"searchPopup\" type=\"center\">\n        <view class=\"popup-content\">\n          <view class=\"popup-title\">搜索结果</view>\n          <view>\n            <view class=\"product-item\" v-for=\"item in productList\" :key=\"item.id\" @tap=\"goToDetail(item)\">\n              <image :src=\"item.images[0]\" mode=\"aspectFill\" class=\"product-image\"></image>\n              <view class=\"product-info\">\n                <text class=\"product-name\">{{item.name}}</text>\n                <text class=\"product-price\">¥{{item.skus[0].price}}万</text>\n                <text class=\"product-desc\">{{item.description}}</text>\n              </view>\n            </view>\n          </view>\n          <button class=\"close-btn\" @tap=\"closePopup\">关闭</button>\n        </view>\n      </uni-popup>\n    </view>\n  </template>\n  \n  <script>\n  import uniPopup from '@dcloudio/uni-ui/lib/uni-popup/uni-popup.vue'\n  import products from '@/utils/products.js'\n  \n  export default {\n    components: { uniPopup },\n    props: {\n      placeholder: {\n        type: String,\n        default: '搜索商品/类别'\n      },\n      suggestions: {\n        type: Array,\n        default: () => []\n      }\n    },\n    data() {\n      return {\n        inputValue: '',\n        showSuggestions: false,\n        productList: []\n      }\n    },\n    watch: {\n      suggestions(val) {\n        this.showSuggestions = !!this.inputValue && val.length > 0\n      }\n    },\n    methods: {\n      onInput(e) {\n        this.inputValue = e.detail.value\n        this.$emit('input', this.inputValue)\n        this.showSuggestions = !!this.inputValue && this.suggestions.length > 0\n      },\n      onSearch() {\n        this.showSuggestions = false\n        this.$emit('search', this.inputValue)\n        this.productList = products.getHotProducts ? products.getHotProducts() : (products.getHotProducts ? products.getHotProducts() : [])\n        this.$refs.searchPopup.open()\n      },\n      selectSuggestion(item) {\n        this.inputValue = item.name\n        this.showSuggestions = false\n      },\n      goToDetail(item) {\n        uni.navigateTo({\n          url: `/pages/detail/detail?id=${item.id}`\n        })\n      },\n      onFocus() {\n        this.showSuggestions = !!this.inputValue && this.suggestions.length > 0\n      },\n      onBlur() {\n        setTimeout(() => {\n          this.showSuggestions = false\n        }, 200)\n      },\n      closePopup() {\n        this.$refs.searchPopup.close()\n      }\n    }\n  }\n  </script>\n  \n  <style>\n  .search-box {\n    position: relative;\n    background: #fff;\n    border-radius: 10rpx;\n    padding: 10rpx 20rpx;\n    margin-bottom: 20rpx;\n    display: flex;\n    align-items: center;\n  }\n  .search-icon {\n    font-size: 36rpx;\n    color: #999;\n    margin-right: 16rpx;\n  }\n  .search-input {\n    flex: 1;\n    background: #f5f5f5;\n    border: none;\n    border-radius: 8rpx;\n    padding: 10rpx 20rpx;\n    font-size: 28rpx;\n    outline: none;\n  }\n  .search-btn {\n    margin-left: 10rpx;\n    background: #FF4D4F;\n    color: #fff;\n    border-radius: 8rpx;\n    font-size: 28rpx;\n    padding: 0 20rpx;\n  }\n  .suggestion-list {\n    position: absolute;\n    left: 0; right: 0; top: 80rpx;\n    background: #fff;\n    z-index: 99;\n    border-radius: 0 0 10rpx 10rpx;\n    box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.08);\n  }\n  .suggestion-item {\n    padding: 20rpx;\n    border-bottom: 1rpx solid #f5f5f5;\n    font-size: 28rpx;\n  }\n  .suggestion-item:last-child { border-bottom: none; }\n  .popup-content {\n    padding: 40rpx 20rpx 20rpx 20rpx;\n    background: #fff;\n    border-radius: 16rpx;\n    min-width: 500rpx;\n    max-width: 90vw;\n    max-height: 70vh;\n    overflow-y: auto;\n  }\n  .popup-title {\n    font-size: 32rpx;\n    font-weight: bold;\n    margin-bottom: 20rpx;\n    text-align: center;\n  }\n  .product-item {\n    display: flex;\n    background-color: #f5f5f5;\n    border-radius: 10rpx;\n    margin-bottom: 20rpx;\n    padding: 10rpx;\n  }\n  .product-image {\n    width: 120rpx;\n    height: 120rpx;\n    border-radius: 8rpx;\n    margin-right: 20rpx;\n  }\n  .product-info {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  }\n  .product-name {\n    font-size: 28rpx;\n    color: #333;\n    font-weight: bold;\n    margin-bottom: 8rpx;\n  }\n  .product-price {\n    font-size: 28rpx;\n    color: #FF4D4F;\n    margin-bottom: 8rpx;\n  }\n  .product-desc {\n    font-size: 24rpx;\n    color: #666;\n  }\n  .close-btn {\n    margin-top: 20rpx;\n    width: 100%;\n    background: #FF4D4F;\n    color: #fff;\n    border-radius: 8rpx;\n    font-size: 28rpx;\n  }\n  </style>","import Component from 'D:/learnRoute/procedure/wechat-Pro-demo-1/components/Search.vue'\nwx.createComponent(Component)"],"names":["products","uni"],"mappings":";;;AA4CE,MAAO,WAAU,MAAW;AAG5B,MAAK,YAAU;AAAA,EACb,YAAY,EAAE,SAAU;AAAA,EACxB,OAAO;AAAA,IACL,aAAa;AAAA,MACX,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,IACD,aAAa;AAAA,MACX,MAAM;AAAA,MACN,SAAS,MAAM,CAAC;AAAA,IAClB;AAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,iBAAiB;AAAA,MACjB,aAAa,CAAC;AAAA,IAChB;AAAA,EACD;AAAA,EACD,OAAO;AAAA,IACL,YAAY,KAAK;AACf,WAAK,kBAAkB,CAAC,CAAC,KAAK,cAAc,IAAI,SAAS;AAAA,IAC3D;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,QAAQ,GAAG;AACT,WAAK,aAAa,EAAE,OAAO;AAC3B,WAAK,MAAM,SAAS,KAAK,UAAU;AACnC,WAAK,kBAAkB,CAAC,CAAC,KAAK,cAAc,KAAK,YAAY,SAAS;AAAA,IACvE;AAAA,IACD,WAAW;AACT,WAAK,kBAAkB;AACvB,WAAK,MAAM,UAAU,KAAK,UAAU;AACpC,WAAK,cAAcA,wBAAS,iBAAiBA,eAAAA,SAAS,mBAAoBA,eAAAA,SAAS,iBAAiBA,eAAAA,SAAS,eAAc,IAAK,CAAA;AAChI,WAAK,MAAM,YAAY,KAAK;AAAA,IAC7B;AAAA,IACD,iBAAiB,MAAM;AACrB,WAAK,aAAa,KAAK;AACvB,WAAK,kBAAkB;AAAA,IACxB;AAAA,IACD,WAAW,MAAM;AACfC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,2BAA2B,KAAK,EAAE;AAAA,OACxC;AAAA,IACF;AAAA,IACD,UAAU;AACR,WAAK,kBAAkB,CAAC,CAAC,KAAK,cAAc,KAAK,YAAY,SAAS;AAAA,IACvE;AAAA,IACD,SAAS;AACP,iBAAW,MAAM;AACf,aAAK,kBAAkB;AAAA,MACxB,GAAE,GAAG;AAAA,IACP;AAAA,IACD,aAAa;AACX,WAAK,MAAM,YAAY,MAAM;AAAA,IAC/B;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvGF,GAAG,gBAAgB,SAAS;"}