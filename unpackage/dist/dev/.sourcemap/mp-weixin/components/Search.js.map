{"version":3,"file":"Search.js","sources":["components/Search.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovbGVhcm5Sb3V0ZS9mdWxsU3RhY2svU2hvcC1PZi1DYXJzLUhvdXNlcy9mcm9udGVuZC9jb21wb25lbnRzL1NlYXJjaC52dWU"],"sourcesContent":["<template>\r\n    <view class=\"search-box\">\r\n      <text class=\"iconfont search-icon\" @tab=\"onSearch\">&#xe6b0;</text>\r\n      <input\r\n        class=\"search-input\"\r\n        type=\"text\"\r\n        v-model=\"inputValue\"\r\n        :placeholder=\"placeholder\"\r\n        @input=\"onInput\"\r\n        @confirm=\"onSearch\"\r\n        @focus=\"onFocus\"\r\n        @blur=\"onBlur\"\r\n      />\r\n      <button class=\"search-btn\" @tap=\"onSearch\">搜索</button>\r\n      <view v-if=\"showSuggestions && suggestions.length\" class=\"suggestion-list\">\r\n        <view\r\n          class=\"suggestion-item\"\r\n          v-for=\"item in suggestions\"\r\n          :key=\"item.id || item.name\"\r\n          @tap=\"selectSuggestion(item)\"\r\n        >\r\n          {{ item.name }}\r\n        </view>\r\n      </view>\r\n      <uni-popup ref=\"searchPopup\" type=\"center\">\r\n        <view class=\"popup-content\">\r\n          <view class=\"popup-title\">搜索结果</view>\r\n          <view>\r\n            <view class=\"product-item\" v-for=\"item in productList\" :key=\"item.id\" @tap=\"goToDetail(item)\">\r\n              <image :src=\"item.images[0]\" mode=\"aspectFill\" class=\"product-image\"></image>\r\n              <view class=\"product-info\">\r\n                <text class=\"product-name\">{{item.name}}</text>\r\n                <text class=\"product-price\">¥{{item.skus[0].price}}万</text>\r\n                <text class=\"product-desc\">{{item.description}}</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n          <button class=\"close-btn\" @tap=\"closePopup\">关闭</button>\r\n        </view>\r\n      </uni-popup>\r\n    </view>\r\n  </template>\r\n  \r\n  <script>\r\n  import uniPopup from '@dcloudio/uni-ui/lib/uni-popup/uni-popup.vue'\r\n  import products from '@/utils/products.js'\r\n  \r\n  export default {\r\n    components: { uniPopup },\r\n    props: {\r\n      placeholder: {\r\n        type: String,\r\n        default: '搜索商品/类别'\r\n      },\r\n      suggestions: {\r\n        type: Array,\r\n        default: () => []\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        inputValue: '',\r\n        showSuggestions: false,\r\n        productList: []\r\n      }\r\n    },\r\n    watch: {\r\n      suggestions(val) {\r\n        this.showSuggestions = !!this.inputValue && val.length > 0\r\n      }\r\n    },\r\n    methods: {\r\n      onInput(e) {\r\n        this.inputValue = e.detail.value\r\n        this.$emit('input', this.inputValue)\r\n        this.showSuggestions = !!this.inputValue && this.suggestions.length > 0\r\n      },\r\n      onSearch() {\r\n        this.showSuggestions = false\r\n        this.$emit('search', this.inputValue)\r\n        this.productList = products.getHotProducts ? products.getHotProducts() : (products.getHotProducts ? products.getHotProducts() : [])\r\n        this.$refs.searchPopup.open()\r\n      },\r\n      selectSuggestion(item) {\r\n        this.inputValue = item.name\r\n        this.showSuggestions = false\r\n      },\r\n      goToDetail(item) {\r\n        uni.navigateTo({\r\n          url: `/pages/detail/detail?id=${item.id}`\r\n        })\r\n      },\r\n      onFocus() {\r\n        this.showSuggestions = !!this.inputValue && this.suggestions.length > 0\r\n      },\r\n      onBlur() {\r\n        setTimeout(() => {\r\n          this.showSuggestions = false\r\n        }, 200)\r\n      },\r\n      closePopup() {\r\n        this.$refs.searchPopup.close()\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style>\r\n  .search-box {\r\n    position: relative;\r\n    background: #fff;\r\n    border-radius: 10rpx;\r\n    padding: 10rpx 20rpx;\r\n    margin-bottom: 20rpx;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .search-icon {\r\n    font-size: 36rpx;\r\n    color: #999;\r\n    margin-right: 16rpx;\r\n  }\r\n  .search-input {\r\n    flex: 1;\r\n    background: #f5f5f5;\r\n    border: none;\r\n    border-radius: 8rpx;\r\n    padding: 10rpx 20rpx;\r\n    font-size: 28rpx;\r\n    outline: none;\r\n  }\r\n  .search-btn {\r\n    margin-left: 10rpx;\r\n    background: #FF4D4F;\r\n    color: #fff;\r\n    border-radius: 8rpx;\r\n    font-size: 28rpx;\r\n    padding: 0 20rpx;\r\n  }\r\n  .suggestion-list {\r\n    position: absolute;\r\n    left: 0; right: 0; top: 80rpx;\r\n    background: #fff;\r\n    z-index: 99;\r\n    border-radius: 0 0 10rpx 10rpx;\r\n    box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.08);\r\n  }\r\n  .suggestion-item {\r\n    padding: 20rpx;\r\n    border-bottom: 1rpx solid #f5f5f5;\r\n    font-size: 28rpx;\r\n  }\r\n  .suggestion-item:last-child { border-bottom: none; }\r\n  .popup-content {\r\n    padding: 40rpx 20rpx 20rpx 20rpx;\r\n    background: #fff;\r\n    border-radius: 16rpx;\r\n    min-width: 500rpx;\r\n    max-width: 90vw;\r\n    max-height: 70vh;\r\n    overflow-y: auto;\r\n  }\r\n  .popup-title {\r\n    font-size: 32rpx;\r\n    font-weight: bold;\r\n    margin-bottom: 20rpx;\r\n    text-align: center;\r\n  }\r\n  .product-item {\r\n    display: flex;\r\n    background-color: #f5f5f5;\r\n    border-radius: 10rpx;\r\n    margin-bottom: 20rpx;\r\n    padding: 10rpx;\r\n  }\r\n  .product-image {\r\n    width: 120rpx;\r\n    height: 120rpx;\r\n    border-radius: 8rpx;\r\n    margin-right: 20rpx;\r\n  }\r\n  .product-info {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  .product-name {\r\n    font-size: 28rpx;\r\n    color: #333;\r\n    font-weight: bold;\r\n    margin-bottom: 8rpx;\r\n  }\r\n  .product-price {\r\n    font-size: 28rpx;\r\n    color: #FF4D4F;\r\n    margin-bottom: 8rpx;\r\n  }\r\n  .product-desc {\r\n    font-size: 24rpx;\r\n    color: #666;\r\n  }\r\n  .close-btn {\r\n    margin-top: 20rpx;\r\n    width: 100%;\r\n    background: #FF4D4F;\r\n    color: #fff;\r\n    border-radius: 8rpx;\r\n    font-size: 28rpx;\r\n  }\r\n  </style>","import Component from 'D:/learnRoute/fullStack/Shop-Of-Cars-Houses/frontend/components/Search.vue'\nwx.createComponent(Component)"],"names":["products","uni"],"mappings":";;;AA4CE,MAAO,WAAU,MAAW;AAG5B,MAAK,YAAU;AAAA,EACb,YAAY,EAAE,SAAU;AAAA,EACxB,OAAO;AAAA,IACL,aAAa;AAAA,MACX,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,IACD,aAAa;AAAA,MACX,MAAM;AAAA,MACN,SAAS,MAAM,CAAC;AAAA,IAClB;AAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,iBAAiB;AAAA,MACjB,aAAa,CAAC;AAAA,IAChB;AAAA,EACD;AAAA,EACD,OAAO;AAAA,IACL,YAAY,KAAK;AACf,WAAK,kBAAkB,CAAC,CAAC,KAAK,cAAc,IAAI,SAAS;AAAA,IAC3D;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,QAAQ,GAAG;AACT,WAAK,aAAa,EAAE,OAAO;AAC3B,WAAK,MAAM,SAAS,KAAK,UAAU;AACnC,WAAK,kBAAkB,CAAC,CAAC,KAAK,cAAc,KAAK,YAAY,SAAS;AAAA,IACvE;AAAA,IACD,WAAW;AACT,WAAK,kBAAkB;AACvB,WAAK,MAAM,UAAU,KAAK,UAAU;AACpC,WAAK,cAAcA,wBAAS,iBAAiBA,eAAAA,SAAS,mBAAoBA,eAAAA,SAAS,iBAAiBA,eAAAA,SAAS,eAAc,IAAK,CAAA;AAChI,WAAK,MAAM,YAAY,KAAK;AAAA,IAC7B;AAAA,IACD,iBAAiB,MAAM;AACrB,WAAK,aAAa,KAAK;AACvB,WAAK,kBAAkB;AAAA,IACxB;AAAA,IACD,WAAW,MAAM;AACfC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,2BAA2B,KAAK,EAAE;AAAA,OACxC;AAAA,IACF;AAAA,IACD,UAAU;AACR,WAAK,kBAAkB,CAAC,CAAC,KAAK,cAAc,KAAK,YAAY,SAAS;AAAA,IACvE;AAAA,IACD,SAAS;AACP,iBAAW,MAAM;AACf,aAAK,kBAAkB;AAAA,MACxB,GAAE,GAAG;AAAA,IACP;AAAA,IACD,aAAa;AACX,WAAK,MAAM,YAAY,MAAM;AAAA,IAC/B;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvGF,GAAG,gBAAgB,SAAS;"}